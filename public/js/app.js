var app=angular.module("fabLab",[],["$routeProvider",function(a){a.when("/",{templateUrl:"partials/main.html",controller:MainCtrl});a.when("/:machine",{templateUrl:"partials/details.html",controller:MachineCtrl});a.otherwise({redirectTo:"/"})}]);
function checkParts(a){var d=$(".machine-view"),f=0,g=0,c=0,h,m=function(a){var c=[":(","(O.O)","\u0ca0\u256d\u256e\u0ca0","\u0cb0_\u0cb0","you should probably try again"],h=["maybe next time you'll get it"],e="",b="",b=function(a){return a[Math.floor(Math.random()*a.length)]};switch(!0){case 0<=a&&70>=a:e="text-error";b=b(c);break;case 70<a&&90>a:e="text-warning";b=b(h);break;default:e="text-success",b=b([":)","(^\u2207^)","(^_^)","\u25d5\u203f\u25d5","very good!"])}return{klass:e,message:b}};void 0!==
    a&&a instanceof HTMLElement&&(a=$(a),d=a.parents(".span3").siblings(".machine-view"));d.each(function(){var a=$(this),d=a.find(".part-group"),k=d.length,e=d.has(".ui-state-highlight").length,b=0,l=0;0===e?(c+=1,a.siblings().find(".score").html('<span class="text-error"><strong>Uh-oh!</strong> %msg%</span>'.replace("%msg%","You did not fill in any parts!"))):e<k?(c+=1,d.children(':not(".ui-state-highlight")').each(function(){$(this).css("border-color","rgb(238, 95, 91)")}),a.siblings().find(".score").html('<span class="text-error"><strong>Uh-oh!</strong> %msg%</span>'.replace("%msg%",
    "You forgot "+(k-e)+" part"+(1!==k-e?"s":"")+"!"))):(d.each(function(){var a=$(this);a.data("part-id")===a.children().data("part-id")?(b+=1,a.children().css("border-color","rgb(98, 196, 98)")):a.children().css("border-color","rgb(238, 95, 91)")}),f+=b,g+=k,l=100*(b/k),h=m(l),a.siblings().find(".score").html('<span class="text-error">%msg%</span>'.replace(/text-[a-z]+/,h.klass).replace("%msg%","You got "+b+" out of "+k+" correct, that's "+l.toFixed(2)+"%... "+h.message)))});0===c&&(h=m(100*(f/g)),
    $(".check-total").find(".score").html('<span class="text-error">%msg%</span>'.replace(/text-[a-z]+/,h.klass).replace("%msg%","<strong>Total:</strong> You got "+f+" out of "+g+" correct, that's "+(100*(f/g)).toFixed(2)+"%... "+h.message)))}
function resetParts(a){var d=$(".parts-list"),f=$(".part-drop"),g=$(".score"),c=$(".check-total").find(".score");void 0!==a&&a instanceof HTMLElement&&(a=$(a),d=a.parents(".span3").find(".parts-list"),f=a.parents(".span3").siblings(".machine-view").find(".part-drop"),g=c=a.siblings(".score"));g.html("");c.html("Reset...");setTimeout(function(){c.html("")},1250);d.children().each(function(){$(this).data("dropped",!1).draggable("enable").removeClass("ui-state-disabled")});f.each(function(){var a=$(this);
    a.removeData("part-id").text("").removeClass("ui-state-highlight").css("border-color",a.data("border-color"))})};